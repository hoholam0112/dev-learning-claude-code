# sec01 연습 문제: Pydantic 기본 모델

> **파일**: `exercise.py`
> **실행 방법**: `python exercise.py` (테스트) 또는 `uvicorn exercise:app --reload` (서버)

---

## 문제 1: 사용자 등록 API

사용자 등록을 위한 `User` 모델과 `POST /users` 엔드포인트를 구현하세요.

### 요구 사항

**User 모델:**
| 필드 | 타입 | 필수 여부 | 검증 규칙 |
|------|------|-----------|-----------|
| `name` | `str` | 필수 | 최소 2자, 최대 50자 |
| `email` | `str` | 필수 | (타입 검증만) |
| `age` | `int` | 필수 | 0 이상, 150 이하 |
| `nickname` | `Optional[str]` | 선택 | 기본값 `None` |

**POST /users 엔드포인트:**
- `User` 모델을 요청 본문으로 받습니다
- 반환값: `{"message": "사용자가 등록되었습니다", "user": {받은 사용자 데이터}}`

### 힌트

- `Field`를 사용하여 `min_length`, `max_length`, `ge`, `le` 등의 검증 규칙을 설정하세요
- `model_dump()` 메서드로 Pydantic 모델을 딕셔너리로 변환할 수 있습니다
- `Optional[str] = None`으로 선택 필드를 만듭니다

### 테스트 케이스

1. 정상적인 사용자 데이터 → 200 OK
2. 닉네임 포함 데이터 → 200 OK, 닉네임 확인
3. 이름이 1자 → 422 (최소 2자 위반)
4. 나이가 200 → 422 (150 이하 위반)

---

## 문제 2: Field를 사용한 상세 검증 (심화)

`exercise.py` 하단에 추가로 구현하세요. (테스트에 포함되어 있습니다)

### 요구 사항

**ProductReview 모델:**
| 필드 | 타입 | 필수 여부 | 검증 규칙 |
|------|------|-----------|-----------|
| `product_id` | `int` | 필수 | 1 이상 |
| `rating` | `int` | 필수 | 1 이상, 5 이하 |
| `title` | `str` | 필수 | 최소 5자, 최대 100자 |
| `content` | `str` | 선택 | 기본값 `""`, 최대 1000자 |
| `reviewer_name` | `str` | 필수 | 최소 2자, 최대 30자 |

**POST /reviews 엔드포인트:**
- `ProductReview` 모델을 요청 본문으로 받습니다
- 반환값: `{"message": "리뷰가 등록되었습니다", "review": {받은 리뷰 데이터}}`

---

## 정답 확인

모든 테스트를 통과하면 완료입니다.
막히는 부분이 있다면 `solution.py`를 참고하세요.
